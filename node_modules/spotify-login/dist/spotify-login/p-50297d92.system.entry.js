System.register(["./p-34ab9b32.system.js"],(function(t){"use strict";var e,i,r,o;return{setters:[function(t){e=t.r;i=t.c;r=t.h;o=t.H}],execute:function(){var n="";var s=t("spotify_login",function(){function t(t){e(this,t);this.responseType="token";this.urlSpotify="https://accounts.spotify.com/authorize";this.interval=0;this.request=i(this,"request",7);this.completed=i(this,"completed",7);this.fail=i(this,"fail",7)}t.prototype.validateClientId=function(t){if(!t){throw new Error("clientId: required")}};t.prototype.validateRedirectUri=function(t){if(!t){throw new Error("redirectUri: required")}};t.prototype.validateResponseType=function(t){if(!t){throw new Error("responseType: required")}};t.prototype.convertQueryParams=function(t){var e=t.substr(1);var i={};e.split("&").forEach((function(t){var e=t.split("=");i[e[0]]=decodeURIComponent(e[1])}));return i};t.prototype.close=function(){if(this.interval){window.clearInterval(this.interval);this.interval=null}this.popup.close()};t.prototype.poll=function(){var t=this;this.interval=window.setInterval((function(){try{if(!t.popup||t.popup.closed!==false){t.close();t.fail.emit(new Error("The popup was closed"));return}if(t.popup.location.href===t.urlSpotify||t.popup.location.pathname==="blank"){return}t.completed.emit(t.convertQueryParams(t.popup.location.hash));t.close()}catch(e){}}),500)};t.prototype.onBtnClick=function(){var t="client_id="+this.clientId+"&redirect_uri="+this.redirectUri+"&response_type="+this.responseType;if(this.scope){t+="&scope="+this.scope}if(this.state){t+="&state="+this.state}if(this.showDialog){t+="&show_dialog="+this.showDialog}this.popup=window.open(this.urlSpotify+"?"+t,"spotify-authorization","");this.request.emit();this.poll()};t.prototype.render=function(){var t=this;return r(o,{onClick:function(){return t.onBtnClick()}},r("slot",null))};Object.defineProperty(t,"watchers",{get:function(){return{clientId:["validateClientId"],redirectUri:["validateRedirectUri"],responseType:["validateResponseType"]}},enumerable:true,configurable:true});return t}());s.style=n}}}));